<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>3Sum Closest Solution: Me vs ChatGPT | That&#39;s interesting</title>
<meta name="keywords" content="">
<meta name="description" content="Here is the link to the problem: 3Sum Closest.
Problem Statement: Given an integer array nums of length n and an integer target, find three integers in nums such that the sum is closest to target.
Return the sum of the three integers.
You may assume that each input would have exactly one solution.
Examples: Example 1:
Input: nums = [-1,0,1,2,-1,-4]
Target: 1
Output: 2
Explanation: The sum that is closest to the target is 2.">
<meta name="author" content="">
<link rel="canonical" href="https://ajaybanstola.com.np/posts/lesson4/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d08f4052fa8ebcfc062f84be37c7db30a22a1375793e3c9c1af198b510cdeb81.css" integrity="sha256-0I9AUvqOvPwGL4S&#43;N8fbMKIqE3V5PjycGvGYtRDN64E=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://ajaybanstola.com.np/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://ajaybanstola.com.np/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://ajaybanstola.com.np/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://ajaybanstola.com.np/apple-touch-icon.png">
<link rel="mask-icon" href="https://ajaybanstola.com.np/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://ajaybanstola.com.np/posts/lesson4/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:title" content="3Sum Closest Solution: Me vs ChatGPT" />
<meta property="og:description" content="Here is the link to the problem: 3Sum Closest.
Problem Statement: Given an integer array nums of length n and an integer target, find three integers in nums such that the sum is closest to target.
Return the sum of the three integers.
You may assume that each input would have exactly one solution.
Examples: Example 1:
Input: nums = [-1,0,1,2,-1,-4]
Target: 1
Output: 2
Explanation: The sum that is closest to the target is 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ajaybanstola.com.np/posts/lesson4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-07-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-07-04T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="3Sum Closest Solution: Me vs ChatGPT"/>
<meta name="twitter:description" content="Here is the link to the problem: 3Sum Closest.
Problem Statement: Given an integer array nums of length n and an integer target, find three integers in nums such that the sum is closest to target.
Return the sum of the three integers.
You may assume that each input would have exactly one solution.
Examples: Example 1:
Input: nums = [-1,0,1,2,-1,-4]
Target: 1
Output: 2
Explanation: The sum that is closest to the target is 2."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://ajaybanstola.com.np/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "3Sum Closest Solution: Me vs ChatGPT",
      "item": "https://ajaybanstola.com.np/posts/lesson4/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "3Sum Closest Solution: Me vs ChatGPT",
  "name": "3Sum Closest Solution: Me vs ChatGPT",
  "description": "Here is the link to the problem: 3Sum Closest.\nProblem Statement: Given an integer array nums of length n and an integer target, find three integers in nums such that the sum is closest to target.\nReturn the sum of the three integers.\nYou may assume that each input would have exactly one solution.\nExamples: Example 1:\nInput: nums = [-1,0,1,2,-1,-4]\nTarget: 1\nOutput: 2\nExplanation: The sum that is closest to the target is 2.",
  "keywords": [
    
  ],
  "articleBody": "Here is the link to the problem: 3Sum Closest.\nProblem Statement: Given an integer array nums of length n and an integer target, find three integers in nums such that the sum is closest to target.\nReturn the sum of the three integers.\nYou may assume that each input would have exactly one solution.\nExamples: Example 1:\nInput: nums = [-1,0,1,2,-1,-4]\nTarget: 1\nOutput: 2\nExplanation: The sum that is closest to the target is 2. (-1 + 2 + 1 = 2)\nExample 2:\nInput: nums = [0,0,0]\nTarget: 1\nOutput: 0\nExplanation: The sum that is closest to the target is 0. (0 + 0 + 0 = 0)\nSolution to 3sum-closest problem: Me vs ChatGPT My Solution So this problem is very similar to the 3sum problem. Only thing is that we need to track the value of sum of three numbers and also the minimum value from all of them. Otherwise the logic is similar to the one we did in 3sum problem using two pointers. The float(‘inf’) is so that the minimum value is set to maximum at first. If we find the minimum we simultaneously update the final sum as well.\nlength_nums = len(nums)-1 nums.sort() sum_diff_min = 9999999999999 for i in range(length_nums): l = i+1 r = length_nums if i\u003e0 and nums[i] == nums[i-1]: continue while l\u003cr: sums_ar = nums[i] + nums[l] + nums[r] if sum_diff_min \u003e abs(sums_ar - target): sum_diff_min = abs(sums_ar - target) final_sum = sums_ar if sums_ar \u003e target: r -= 1 elif sums_ar \u003c target: l += 1 else: l += 1 r -= 1 if l \u003c r and nums[l] == nums[l-1]: continue if l \u003c r and nums[r] == nums[r+1]: continue return final_sum My solution beats 85% of leetcode users with runtime of just 434 seconds.\nI also gave ChatGPT to optimize this solution. Let’s look at the solution from chatGPT.\ndef threeSumClosest(self, nums, target): \"\"\" :type nums: List[int] :type target: int :rtype: int \"\"\" nums.sort() closest_sum = float('inf') for i in range(len(nums) - 2): if i \u003e 0 and nums[i] == nums[i - 1]: continue l, r = i + 1, len(nums) - 1 while l \u003c r: current_sum = nums[i] + nums[l] + nums[r] if current_sum == target: return current_sum if abs(current_sum - target) \u003c abs(closest_sum - target): closest_sum = current_sum if current_sum \u003c target: l += 1 else: r -= 1 return closest_sum Here is the explanation from chatGPT:\nImprovements and Optimizations: Initialization and Sorting: Sort the list at the beginning to use the two-pointer technique effectively.\nClosest Sum Tracking: Use float(‘inf’) for initialization to ensure any found sum will be closer. Update the closest sum if the current sum is closer to the target.\nMain Loop and Two-pointer Technique: Loop through the sorted list, skipping duplicates to avoid unnecessary checks. Use two pointers (l and r) to find the closest sum for each i.\nTarget Check: If the current sum equals the target, return immediately. Move pointers based on the comparison of current_sum and target.\nRuntime : 496 ms\nBeats 40% of leetcode users.\nThe heck is wrong with you chatGPT? Do better.\nJust kidding. You know I love you.\n",
  "wordCount" : "526",
  "inLanguage": "en",
  "datePublished": "2024-07-04T00:00:00Z",
  "dateModified": "2024-07-04T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://ajaybanstola.com.np/posts/lesson4/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "That's interesting",
    "logo": {
      "@type": "ImageObject",
      "url": "https://ajaybanstola.com.np/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://ajaybanstola.com.np/" accesskey="h" title="That&#39;s interesting (Alt + H)">That&#39;s interesting</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://ajaybanstola.com.np/linkedlist/" title="Linkedlists">
                    <span>Linkedlists</span>
                </a>
            </li>
            <li>
                <a href="https://ajaybanstola.com.np/misc/" title="Miscs">
                    <span>Miscs</span>
                </a>
            </li>
            <li>
                <a href="https://ajaybanstola.com.np/portfolio/" title="Portfolio">
                    <span>Portfolio</span>
                </a>
            </li>
            <li>
                <a href="https://ajaybanstola.com.np/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://ajaybanstola.com.np/sql/" title="Sqls">
                    <span>Sqls</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      3Sum Closest Solution: Me vs ChatGPT
    </h1>
    <div class="post-meta"><span title='2024-07-04 00:00:00 +0000 UTC'>July 4, 2024</span>

</div>
  </header> 
  <div class="post-content"><p>Here is the link to the problem: <a href="https://leetcode.com/problems/3sum-closest/description/">3Sum Closest</a>.</p>
<h2 id="problem-statement">Problem Statement:<a hidden class="anchor" aria-hidden="true" href="#problem-statement">#</a></h2>
<p>Given an integer array nums of length n and an integer target, find three integers in nums such that the sum is closest to target.</p>
<p>Return the sum of the three integers.</p>
<p>You may assume that each input would have exactly one solution.</p>
<h3 id="examples">Examples:<a hidden class="anchor" aria-hidden="true" href="#examples">#</a></h3>
<p><strong>Example 1:</strong></p>
<p>Input: nums = <code>[-1,0,1,2,-1,-4]</code></p>
<p>Target: 1</p>
<p>Output: <code>2</code></p>
<p>Explanation: The sum that is closest to the target is 2. (-1 + 2 + 1 = 2)</p>
<p><strong>Example 2:</strong></p>
<p>Input: nums = <code>[0,0,0]</code></p>
<p>Target: 1</p>
<p>Output: <code>0</code></p>
<p>Explanation: The sum that is closest to the target is 0. (0 + 0 + 0 = 0)</p>
<h1 id="solution-to-3sum-closest-problem-me-vs-chatgpt">Solution to 3sum-closest problem: Me vs ChatGPT<a hidden class="anchor" aria-hidden="true" href="#solution-to-3sum-closest-problem-me-vs-chatgpt">#</a></h1>
<h3 id="my-solution">My Solution<a hidden class="anchor" aria-hidden="true" href="#my-solution">#</a></h3>
<p>So this problem is very similar to the 3sum problem. Only thing is that we need to track the value of sum of three numbers and also the minimum value from all of them. Otherwise the logic is similar to the one we did in 3sum problem using two pointers.
The float(&lsquo;inf&rsquo;) is so that the minimum value is set to maximum at first. If we find the minimum we simultaneously update the final sum as well.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>length_nums <span style="color:#f92672">=</span> len(nums)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>nums<span style="color:#f92672">.</span>sort()
</span></span><span style="display:flex;"><span>sum_diff_min <span style="color:#f92672">=</span>  <span style="color:#ae81ff">9999999999999</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(length_nums):
</span></span><span style="display:flex;"><span>    l <span style="color:#f92672">=</span> i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    r <span style="color:#f92672">=</span> length_nums
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> i<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> nums[i] <span style="color:#f92672">==</span> nums[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> l<span style="color:#f92672">&lt;</span>r:
</span></span><span style="display:flex;"><span>        sums_ar <span style="color:#f92672">=</span> nums[i] <span style="color:#f92672">+</span> nums[l] <span style="color:#f92672">+</span> nums[r]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> sum_diff_min <span style="color:#f92672">&gt;</span> abs(sums_ar <span style="color:#f92672">-</span> target):
</span></span><span style="display:flex;"><span>            sum_diff_min <span style="color:#f92672">=</span> abs(sums_ar <span style="color:#f92672">-</span> target)
</span></span><span style="display:flex;"><span>            final_sum <span style="color:#f92672">=</span> sums_ar
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> sums_ar <span style="color:#f92672">&gt;</span> target:
</span></span><span style="display:flex;"><span>            r <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> sums_ar <span style="color:#f92672">&lt;</span> target:
</span></span><span style="display:flex;"><span>            l <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            l <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            r <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> l <span style="color:#f92672">&lt;</span> r <span style="color:#f92672">and</span> nums[l] <span style="color:#f92672">==</span> nums[l<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> l <span style="color:#f92672">&lt;</span> r <span style="color:#f92672">and</span> nums[r] <span style="color:#f92672">==</span> nums[r<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> final_sum
</span></span></code></pre></div><p>My solution beats 85% of leetcode users with runtime of just 434 seconds.</p>
<p>I also gave ChatGPT to optimize this solution. Let&rsquo;s look at the solution from chatGPT.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">threeSumClosest</span>(self, nums, target):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    :type nums: List[int]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    :type target: int
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    :rtype: int
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    nums<span style="color:#f92672">.</span>sort()
</span></span><span style="display:flex;"><span>    closest_sum <span style="color:#f92672">=</span> float(<span style="color:#e6db74">&#39;inf&#39;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(nums) <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> nums[i] <span style="color:#f92672">==</span> nums[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>        l, r <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, len(nums) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> l <span style="color:#f92672">&lt;</span> r:
</span></span><span style="display:flex;"><span>            current_sum <span style="color:#f92672">=</span> nums[i] <span style="color:#f92672">+</span> nums[l] <span style="color:#f92672">+</span> nums[r]
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> current_sum <span style="color:#f92672">==</span> target:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> current_sum
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> abs(current_sum <span style="color:#f92672">-</span> target) <span style="color:#f92672">&lt;</span> abs(closest_sum <span style="color:#f92672">-</span> target):
</span></span><span style="display:flex;"><span>                closest_sum <span style="color:#f92672">=</span> current_sum
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> current_sum <span style="color:#f92672">&lt;</span> target:
</span></span><span style="display:flex;"><span>                l <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                r <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> closest_sum
</span></span></code></pre></div><p>Here is the explanation from chatGPT:</p>
<h3 id="improvements-and-optimizations">Improvements and Optimizations:<a hidden class="anchor" aria-hidden="true" href="#improvements-and-optimizations">#</a></h3>
<h4 id="initialization-and-sorting">Initialization and Sorting:<a hidden class="anchor" aria-hidden="true" href="#initialization-and-sorting">#</a></h4>
<p>Sort the list at the beginning to use the two-pointer technique effectively.</p>
<h4 id="closest-sum-tracking">Closest Sum Tracking:<a hidden class="anchor" aria-hidden="true" href="#closest-sum-tracking">#</a></h4>
<p>Use float(&lsquo;inf&rsquo;) for initialization to ensure any found sum will be closer.
Update the closest sum if the current sum is closer to the target.</p>
<h4 id="main-loop-and-two-pointer-technique">Main Loop and Two-pointer Technique:<a hidden class="anchor" aria-hidden="true" href="#main-loop-and-two-pointer-technique">#</a></h4>
<p>Loop through the sorted list, skipping duplicates to avoid unnecessary checks.
Use two pointers (l and r) to find the closest sum for each i.</p>
<h4 id="target-check">Target Check:<a hidden class="anchor" aria-hidden="true" href="#target-check">#</a></h4>
<p>If the current sum equals the target, return immediately.
Move pointers based on the comparison of current_sum and target.</p>
<p><strong>Runtime</strong> : 496 ms</p>
<p>Beats 40% of leetcode users.</p>
<p>The heck is wrong with you chatGPT? Do better.</p>
<p>Just kidding. You know I love you.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://ajaybanstola.com.np/">That&#39;s interesting</a></span> · 

    <span>
        All rights reserved. 
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Ajay</a>
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">Banstola</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
